{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\n\nexport async function searchImages(query) {\n  const apiKey = '43322409-71cdbf6ef8f62fb1f69ac5609';\n  const apiUrl = `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  const response = await fetch(apiUrl);\n\n  if (!response.ok) {\n    throw new Error('Network response was not ok');\n  }\n\n  return response.json();\n}\n","'use strict';\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('#gallery .image-card', {\n  captionsData: 'alt',\n  captionsPosition: 'bottom',\n  captionDelay: 250,\n});\n\nasync function displayImages(images) {\n  const gallery = document.getElementById('gallery');\n\n  const imageCards = await Promise.all(\n    images.map(async image => {\n      const card = await createImageCard(image);\n      return card;\n    })\n  );\n\n  gallery.append(...imageCards);\n\n  lightbox.refresh();\n}\n\nasync function createImageCard(image) {\n  const card = `\n    <a class=\"image-card\" href=\"${image.largeImageURL}\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n      <div class=\"metadata-container\">\n        <p>Likes: ${image.likes}</p>\n        <p>Views: ${image.views}</p>\n        <p>Comments: ${image.comments}</p>\n        <p>Downloads: ${image.downloads}</p>\n      </div>\n    </a>\n  `;\n\n  const parseContainer = document.createElement('div');\n  parseContainer.innerHTML = card;\n\n  return parseContainer.firstElementChild;\n}\n\nexport { displayImages };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { searchImages } from './js/pixabay-api.js';\nimport { displayImages } from './js/render-functions.js';\n\ndocument\n  .getElementById('search-form')\n  .addEventListener('submit', async function (event) {\n    event.preventDefault();\n    const query = document.getElementById('search-input').value.trim();\n    if (query === '') {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please enter a search keyword.',\n      });\n      return;\n    }\n\n    const gallery = document.getElementById('gallery');\n    gallery.innerHTML = '';\n    document.getElementById('search-input').value = '';\n    const loader = document.getElementById('loader');\n    loader.style.display = 'block';\n\n    try {\n      const data = await searchImages(query);\n      if (data.hits.length === 0) {\n        throw new Error(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n      displayImages(data.hits);\n    } catch (error) {\n      iziToast.error({ title: 'Error', message: error.message });\n    } finally {\n      loader.style.display = 'none';\n    }\n  });\n"],"names":["searchImages","query","apiUrl","response","lightbox","SimpleLightbox","displayImages","images","gallery","imageCards","image","createImageCard","card","parseContainer","event","iziToast","loader","data","error"],"mappings":"wvBAEO,eAAeA,EAAaC,EAAO,CAExC,MAAMC,EAAS,qEAA4CD,CAAK,2DAE1DE,EAAW,MAAM,MAAMD,CAAM,EAEnC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAG/C,OAAOA,EAAS,MAClB,CCPA,MAAMC,EAAW,IAAIC,EAAe,uBAAwB,CAC1D,aAAc,MACd,iBAAkB,SAClB,aAAc,GAChB,CAAC,EAED,eAAeC,EAAcC,EAAQ,CACnC,MAAMC,EAAU,SAAS,eAAe,SAAS,EAE3CC,EAAa,MAAM,QAAQ,IAC/BF,EAAO,IAAI,MAAMG,GACF,MAAMC,EAAgBD,CAAK,CAEzC,CACL,EAEEF,EAAQ,OAAO,GAAGC,CAAU,EAE5BL,EAAS,QAAO,CAClB,CAEA,eAAeO,EAAgBD,EAAO,CACpC,MAAME,EAAO;AAAA,kCACmBF,EAAM,aAAa;AAAA,kBACnCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,oBAEpCA,EAAM,KAAK;AAAA,oBACXA,EAAM,KAAK;AAAA,uBACRA,EAAM,QAAQ;AAAA,wBACbA,EAAM,SAAS;AAAA;AAAA;AAAA,IAK/BG,EAAiB,SAAS,cAAc,KAAK,EACnD,OAAAA,EAAe,UAAYD,EAEpBC,EAAe,iBACxB,CCtCA,SACG,eAAe,aAAa,EAC5B,iBAAiB,SAAU,eAAgBC,EAAO,CACjDA,EAAM,eAAc,EACpB,MAAMb,EAAQ,SAAS,eAAe,cAAc,EAAE,MAAM,OAC5D,GAAIA,IAAU,GAAI,CAChBc,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gCACjB,CAAO,EACD,MACD,CAED,MAAMP,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAY,GACpB,SAAS,eAAe,cAAc,EAAE,MAAQ,GAChD,MAAMQ,EAAS,SAAS,eAAe,QAAQ,EAC/CA,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAMC,EAAO,MAAMjB,EAAaC,CAAK,EACrC,GAAIgB,EAAK,KAAK,SAAW,EACvB,MAAM,IAAI,MACR,0EACV,EAEMX,EAAcW,EAAK,IAAI,CACxB,OAAQC,EAAO,CACdH,EAAS,MAAM,CAAE,MAAO,QAAS,QAASG,EAAM,OAAO,CAAE,CAC/D,QAAc,CACRF,EAAO,MAAM,QAAU,MACxB,CACL,CAAG"}