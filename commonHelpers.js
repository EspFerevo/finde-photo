import{a as g,S as h,i as d}from"./assets/vendor-06b1bbdf.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}})();async function u(e,t){const a="43322409-71cdbf6ef8f62fb1f69ac5609",n="https://pixabay.com/api/";try{return(await g.get(n,{params:{key:a,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:15}})).data}catch{throw new Error("Network response was not ok")}}const w=new h("#gallery .image-card",{captionsData:"alt",captionsPosition:"bottom",captionDelay:250});async function p(e){const t=document.getElementById("gallery"),a=await Promise.all(e.map(async n=>await b(n)));t.append(...a),w.refresh()}async function b(e){const t=`
    <a class="image-card" href="${e.largeImageURL}">
      <img src="${e.webformatURL}" alt="${e.tags}">
      <div class="metadata-container">
        <p>Likes: ${e.likes}</p>
        <p>Views: ${e.views}</p>
        <p>Comments: ${e.comments}</p>
        <p>Downloads: ${e.downloads}</p>
      </div>
    </a>
  `,a=document.createElement("div");return a.innerHTML=t,a.firstElementChild}const s=document.querySelector(".load-btn"),m=document.querySelector("#search-input"),E=document.getElementById("gallery"),l=document.getElementById("loader");let i=1,y="";document.getElementById("search-form").addEventListener("submit",L);s.addEventListener("click",v);s.style.display="none";async function L(e){e.preventDefault(),y=m.value.trim(),E.innerHTML="",l.style.display="block";try{const t=await u(y,i);if(t.hits.length===0)throw new Error("Sorry, there are no images matching your search query. Please try again!");p(t.hits),t.total>15&&(s.style.display="block"),f()}catch(t){d.error({title:"Error",message:t.message}),s.style.display="none"}finally{l.style.display="none",m.value=""}}async function v(){s.textContent="Loading...",i+=1,l.style.display="block";try{const e=await u(y,i);await p(e.hits),f(),Math.ceil(e.totalHits/15)===i&&(s.style.display="none",d.show({message:"We're sorry, but you've reached the end of search results.",messageColor:"#FDF5E6",position:"bottomRight",backgroundColor:"#FF4500",progressBar:!1,close:!1,timeout:5e3}))}catch(e){d.error({title:"Error",message:e.message})}finally{l.style.display="none",s.textContent="Load More"}}function f(){const e=document.querySelector("#gallery");if(e&&e.firstElementChild){const{height:t}=e.firstElementChild.getBoundingClientRect();window.scrollBy({top:t*2,behavior:"smooth"})}}
//# sourceMappingURL=commonHelpers.js.map
